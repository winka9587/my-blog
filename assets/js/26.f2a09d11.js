(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{559:function(t,_,s){"use strict";s.r(_);var a=s(56),e=Object(a.a)({},(function(){var t=this,_=t.$createElement,s=t._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"captra部分代码解读"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#captra部分代码解读"}},[t._v("#")]),t._v(" CAPTRA部分代码解读")]),t._v(" "),s("h2",{attrs:{id:"pose-fit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pose-fit"}},[t._v("#")]),t._v(" pose_fit")]),t._v(" "),s("p",[t._v("pose = pose_fit(coord_pts, pts)\n然后\n对coord进行处理，使其和pts对齐")]),t._v(" "),s("p",[t._v("因此pose_fit计算的是第一个参数到第二个参数的位姿")]),t._v(" "),s("img",{attrs:{src:"https://raw.githubusercontent.com/winka9587/MD_imgs/main/Norproject/2022-08-24-c1GMic.png",width:"100%"}}),t._v(" "),s("p",[t._v("绿色是NOCS：coord_pts，红色是观测：pts")]),t._v(" "),s("p",[t._v("另外，计算误差时，矩阵之间要使用np.matmul(R1,R2),而不是直接R1*R2\n会有差异，例如检查矩阵是否正交时遇到的问题：")]),t._v(" "),s("img",{attrs:{src:"https://raw.githubusercontent.com/winka9587/MD_imgs/main/Norproject/2022-08-24-3lrA8C.png",width:"100%"}}),t._v(" "),s("h2",{attrs:{id:"可视化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可视化"}},[t._v("#")]),t._v(" 可视化")]),t._v(" "),s("p",[t._v("这是plot_all_sequences的输入参数，")]),t._v(" "),s("p",[s("strong",[t._v("img_path")]),t._v("                   \t../data/nocs_data/nocs_full/real_test   输入的原始图像路径")]),t._v(" "),s("p",[s("strong",[t._v("exp_list")]),t._v("                       \t[../runs/1_bottle_rot, ../runs/2_xxx, …]")]),t._v(" "),s("p",[s("strong",[t._v("scene_list")]),t._v("                    \t[scene_1, scene_2, scene_3, …, scene_7]")]),t._v(" "),s("p",[s("strong",[t._v("output_path")]),t._v("              \t ../nocs_viz")]),t._v(" "),s("p",[s("strong",[t._v("intrincics")]),t._v(" \t内参")]),t._v(" "),s("p",[s("strong",[t._v("scale")]),t._v(" \t1000.0")]),t._v(" "),s("p",[s("strong",[t._v("show_fig")]),t._v(" \t False")]),t._v(" "),s("p",[s("strong",[t._v("save_fig")]),t._v("  \tTrue")]),t._v(" "),s("p",[s("strong",[t._v("depth")]),t._v(" \t False")]),t._v(" "),s("p",[t._v("图像被单独存储到")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("output_path+scene_name+f'{frame_num}.png'\n../nocs_viz/scene_1/0000.png\n")])])]),s("p",[t._v("CAMERA数据集和Real数据集的内参")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("if opt.data == 'val':\n\tcam_fx, cam_fy, cam_cx, cam_cy = 577.5, 577.5, 319.5, 239.5\nelse:\n\tcam_fx, cam_fy, cam_cx, cam_cy = 591.0125, 590.16775, 322.525, 244.11084\n")])])])])}),[],!1,null,null,null);_.default=e.exports}}]);